<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Development &mdash; req2flatpak 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Using the Python API" href="api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> req2flatpak
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Using the Commandline Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Using the Python API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-the-source-code">Obtaining the Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-a-development-environment">Setting up a Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-dependencies">Installing Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-a-development-version">Running a Development Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#understanding-the-architecture-and-design-goals">Understanding the Architecture and Design Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modifying-and-contributing-code">Modifying and Contributing Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-tests">Running Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ensuring-code-quality">Ensuring Code quality</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">req2flatpak</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Development</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/development.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="development">
<h1>Development<a class="headerlink" href="#development" title="Permalink to this heading"></a></h1>
<p>If you want to work on req2flatpak, this section helps you get started.</p>
<p>req2flatpak is developed in an open-source, community-driven way,
as a voluntary effort in the authors’ free time.
All contributions are greatly appreciated…
pull requests are welcome, and so are bug reports and suggestions for improvement.</p>
<section id="obtaining-the-source-code">
<h2>Obtaining the Source Code<a class="headerlink" href="#obtaining-the-source-code" title="Permalink to this heading"></a></h2>
<p>req2flatpak’s original source code lives in this github repository:
<a class="reference external" href="https://github.com/johannesjh/req2flatpak">https://github.com/johannesjh/req2flatpak</a>.
You can download the source code by cloning the git repository.</p>
</section>
<section id="setting-up-a-development-environment">
<h2>Setting up a Development Environment<a class="headerlink" href="#setting-up-a-development-environment" title="Permalink to this heading"></a></h2>
<p>Simply clone/open req2flatpak in the IDE of your choice.
Features and languages that the IDE should ideally support include:</p>
<ul class="simple">
<li><p>python</p></li>
<li><p>poetry for managing req2flatpak’s dependencies in a virtual environment</p></li>
<li><p>restructured text (<code class="docutils literal notranslate"><span class="pre">*.rst</span></code>) for writing documentation</p></li>
</ul>
</section>
<section id="installing-dependencies">
<h2>Installing Dependencies<a class="headerlink" href="#installing-dependencies" title="Permalink to this heading"></a></h2>
<p>req2flatpak depends on very few other software packages, as documented in req2flatpak’s <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file.
Run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">install</span></code> to install these packages into a virtual environment.</p>
</section>
<section id="running-a-development-version">
<h2>Running a Development Version<a class="headerlink" href="#running-a-development-version" title="Permalink to this heading"></a></h2>
<p>Have a look at the commands available in req2flatpak’s <code class="docutils literal notranslate"><span class="pre">makefile</span></code>.
These commands show how to run a local req2flatpak development version,
as well as various other development-related tasks.</p>
<div class="highlight-Makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">.PHONY</span><span class="o">:</span> <span class="n">run</span>
<span class="nf">run</span><span class="o">:</span>
	poetry run req2flatpak

<span class="nf">.PHONY</span><span class="o">:</span> <span class="n">lint</span>
<span class="nf">lint</span><span class="o">:</span>
	poetry run pre-commit run --all-files

<span class="nf">.PHONY</span><span class="o">:</span> <span class="n">test</span>
<span class="nf">test</span><span class="o">:</span>
	poetry run python3 -m unittest

<span class="nf">.PHONY</span><span class="o">:</span> <span class="n">docs</span>
<span class="nf">docs</span><span class="o">:</span>
	poetry run sphinx-build -v -b html docs/source docs/build/html
</pre></div>
</div>
</section>
<section id="understanding-the-architecture-and-design-goals">
<h2>Understanding the Architecture and Design Goals<a class="headerlink" href="#understanding-the-architecture-and-design-goals" title="Permalink to this heading"></a></h2>
<p>req2flatpak’s architecture implements the following design goals and design choices.</p>
<p>req2flatpak consists of just a single python file.
This allows req2flatpak to be installed by copy-pasting this file.</p>
<p>req2flatpak is packaged as a python package.
This allows req2flatpak to be installed using pip, poetry, and other similar tools.
Note, single-file python packages are not unusual:
other popular python packages like <a class="reference external" href="https://pypi.python.org/pypi/six">six</a>
also consist of a a single file only,
as explained in this <a class="reference external" href="https://softwareengineering.stackexchange.com/a/243045">stackoverflow answer</a>.</p>
<p>req2flatpak requires minimal dependencies.
The benefit is that req2flatpak runs on a variety of systems.
Optional dependencies are declared in req2flatpak’s <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file.</p>
<p>req2flatpak aims to do one thing well.
Its focus is on generating flatpak-builder build modules
for installing required python packages in a flatpak package.
Other functionality is intentionally not included in req2flatpak,
particularly if it would increase the code size or require additional dependencies.
For example, req2flatpak does not resolve dependencies, nor does it freeze dependency versions
(other tools like pip-compile and poetry are already good at this).</p>
</section>
<section id="modifying-and-contributing-code">
<h2>Modifying and Contributing Code<a class="headerlink" href="#modifying-and-contributing-code" title="Permalink to this heading"></a></h2>
<p>You are free to modify req2flatpak as you wish
(under the terms of its very permissive MIT license).
You are very welcome to contribute improvements back to the original req2flatpak.</p>
</section>
<section id="running-tests">
<h2>Running Tests<a class="headerlink" href="#running-tests" title="Permalink to this heading"></a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code> command to run automated tests.</p>
</section>
<section id="ensuring-code-quality">
<h2>Ensuring Code quality<a class="headerlink" href="#ensuring-code-quality" title="Permalink to this heading"></a></h2>
<p>Use <a class="reference external" href="https://pre-commit.com/">pre-commit</a> to prettify and lint the code before committing changes,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># to install pre-commit on your system,</span>
<span class="c1"># follow instructions from https://pre-commit.com/, for example:</span>
pip install pre-commit  <span class="c1"># install pre-commit using pip</span>

<span class="c1"># to install the pre-commit git hooks in the cloned favagtk repo</span>
pre-commit install  <span class="c1"># activates pre-commit in the current git repo</span>

<span class="c1"># to prettify and lint all code</span>
pre-commit run --all

<span class="c1"># to prettify and lint only staged changes</span>
pre-commit run
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.html" class="btn btn-neutral float-left" title="Using the Python API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, johannesjh.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <div id="other-versions-div" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" style="visibility: hidden">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl id="other-versions-dl"/>
    </div>
  </div>
  <script>
    function addVersion(name) {
      var dd = document.createElement("dd");
      var a = document.createElement("a");
      a.href = "../" + name;
      a.innerText = name;
      dd.appendChild(a);
      document.getElementById('other-versions-dl').appendChild(dd);
    }
    // Get versions.txt and add a version for each line
    fetch("../versions.txt").then(response => {
      if (response.ok) {
        document.getElementById('other-versions-div').style.visibility = "visible";
        return response.text().then(text => text.split(/\r?\n/).forEach(addVersion))
      }
    });
  </script>


</body>
</html>