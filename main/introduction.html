

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Introduction &mdash; req2flatpak 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="req2flatpak Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> req2flatpak
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#intended-use">Intended Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#related-work">Related Work</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Using the Commandline Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Using the Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">req2flatpak</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/introduction.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">req2flatpak</span></code> is a script to convert python package requirements to flatpak build
manifests.</p>
<section id="intended-use">
<h2>Intended Use<a class="headerlink" href="#intended-use" title="Permalink to this heading">¶</a></h2>
<p>req2flatpak is for programmers
who want to package a python application using flatpak.</p>
<p>The req2flatpak script takes python package requirements as input, e.g., as
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file. It allows to specify the target platform’s
python version and architecture. The script outputs an automatically
generated <code class="docutils literal notranslate"><span class="pre">flatpak-builder</span></code> build module. The manifest, if included
into a flatpak build, will install the python packages using pip.</p>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h2>
<p>Run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git+https://github.com/johannesjh/req2flatpak</span></code>
to install the latest development version of req2flatpak.</p>
<p>It is possible to use req2flatpak from the commandline,
as well as programmatically from a python script.</p>
<p>Commandline usage means you can invoke req2flatpak’s commandline interface
as follows, in order to generate a <code class="docutils literal notranslate"><span class="pre">flatpak-builder</span></code> build module
from given python package requirements:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./req2flatpak.py --requirements-file requirements.txt --target-platforms <span class="m">310</span>-x86_64 <span class="m">310</span>-aarch64
</pre></div>
</div>
<p>When invoked like this, req2flatpak will
read the requirements file,
query pypi about available downloads for the requirements,
choose appropriate downloads for the specified target platforms,
and generate a flatpak-builder build module.
The module, if included in a flatpak-builder build manifest,
will install the required packages using pip.</p>
<p>The commandline option to define target platforms uses the format <code class="docutils literal notranslate"><span class="pre">&lt;pythonversion&gt;-&lt;architecture&gt;</span></code>.
To learn more about available commandline options,
run <code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span> <span class="pre">--help</span></code>.</p>
<p>Programmatic usage is also possible.
This means you can invoke functionality from req2flatpak in your own python script,
allowing you to tweak the desired behavior in many ways.
The <a class="reference external" href="https://johannesjh.github.io/req2flatpak/">documentation</a>
describes req2flatpak’s python api and includes code examples
to help you get started quickly.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<p>See <a class="reference external" href="https://johannesjh.github.io/req2flatpak/">https://johannesjh.github.io/req2flatpak/</a></p>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading">¶</a></h2>
<p>req2flatpak is developed in an open-source, community-driven way, as a
voluntary effort in the authors’ free time.</p>
<p>All contributions are greatly appreciated… pull requests are welcome,
and so are bug reports and suggestions for improvement.
See req2flatpak’s documentation for how to set up a development environment
and how to contribute back to req2flatpak.</p>
</section>
<section id="related-work">
<h2>Related Work<a class="headerlink" href="#related-work" title="Permalink to this heading">¶</a></h2>
<p>The
<a class="reference external" href="https://github.com/flatpak/flatpak-builder-tools/blob/master/pip/flatpak-pip-generator">flatpak-pip-generator</a>
script is very similar to this project. Both scripts basically serve the same purpose,
and this project took a lot of inspiration from
flatpak-pip-generator. In fact, this project was created when we
discussed feature request
<a class="reference external" href="https://github.com/flatpak/flatpak-builder-tools/issues/296">#296</a>
in flatpak-pip-generator. A prototype followed from this feature
request, and since it was written from scratch, the prototype became
this separate project.</p>
<p>Comparison between <code class="docutils literal notranslate"><span class="pre">flatpak-pip-generator</span></code> and <code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span></code>:
Each of the two projects has its own benefits.
A comparison will likely change over time.
As in Oct, 2022, in my personal opinion (johannesjh),
I see the following similarities and differences:</p>
<ul class="simple">
<li><p>Both projects generate build modules for flatpak-builder.</p></li>
<li><p>Both projects consist of a single script file with minimal
dependencies, and are thus very easy to install.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flatpak-pip-generator</span></code> resolves dependencies and freezes
dependency versions, whereas <code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span></code> asks the user to
provide a fully resolved list of dependencies with frozen dependency
versions. Various tools exist which make this easy, e.g.,
pip, pip-compile and poetry.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flatpak-pip-generator</span></code> is older and thus likely to be more mature.
It supports more commandline options and probably has a more complete
feature set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span></code> is faster. The script itself runs faster because
it does not need to download package files in order to generate the
manifest. And the flatpak build runs faster because all packages
(from the entire <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file) are installed in a single
call to <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span></code> re-implements some functionality of pip. In
contrast, <code class="docutils literal notranslate"><span class="pre">flatpak-pip-generator</span></code> uses pip’s official
functionality. Specifically, <code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span></code> re-implements how pip
queries available downloads from pypi and how pip chooses suitable
downloads to match a given target platform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">req2flatpak.py</span></code> prefers binary wheels, whereas
<code class="docutils literal notranslate"><span class="pre">flatpak-pip-generator</span></code> prefers source packages.</p></li>
</ul>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h2>
<p>req2flatpak is MIT-licensed, see the <code class="docutils literal notranslate"><span class="pre">COPYING</span></code> file.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="req2flatpak Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, johannesjh.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
   
  <div id="other-versions-div" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" style="visibility: hidden">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl id="other-versions-dl"/>
    </div>
  </div>
  <script>
    function addVersion(name) {
      var dd = document.createElement("dd");
      var a = document.createElement("a");
      a.href = "../" + name;
      a.innerText = name;
      dd.appendChild(a);
      document.getElementById('other-versions-dl').appendChild(dd);
    }
    // Get versions.txt and add a version for each line
    fetch("../versions.txt").then(response => {
      if (response.ok) {
        document.getElementById('other-versions-div').style.visibility = "visible";
        return response.text().then(text => text.split(/\r?\n/).forEach(addVersion))
      }
    });
  </script>


</body>
</html>